<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gym</title>
    <link rel="stylesheet" href="/admin.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
</head>

<body>
    <div class="section_1">
        <div class="container">
            <div class="admin_left_panel">

                <div class="profile_information">
                    <div class="profile_logo"><img src="/images/profile_person_white.png" alt=""></div>
                    <div class="profile_name">Administrator Name</div>
                    <div class="profile_email">ID: 0000000000000</div>
                </div>

                <div class="profile_navigation">
                    <ul class="profiole_nav_ul">
                        <li class="profile_nav_li"><a id="dashboard" href="#dashboard"
                                class="profile_nav_a activePanelBtn"><i
                                    class="fa-solid fa-table-columns"></i><span>Dashboard</span></a></li>
                        <li class="profile_nav_li"><a id="profile" href="#profile" class="profile_nav_a"><i
                                    class="fa-solid fa-user-tie"></i><span>Admin Profile</span></a></li>
                        <li class="profile_nav_li"><a id="registration" href="#registration" class="profile_nav_a"><i
                                    class="fa-solid fa-address-card"></i><span>Registration</span></a></li>
                        <li class="profile_nav_li"><a id="plan" href="#plan" class="profile_nav_a"><i
                                    class="fa-regular fa-clipboard"></i><span>Plan</span></a></li>
                        <li class="profile_nav_li"><a id="payment" href="#payment" class="profile_nav_a"><i
                                    class="fa-solid fa-money-check-dollar"></i><span>Payment</span></a></li>
                        <li class="profile_nav_li"><a id="members" href="#members" class="profile_nav_a"><i
                                    class="fa-solid fa-user-group"></i><span>View Members</span></a></li>
                        <li class="profile_nav_li"><a id="coaches" href="#coaches" class="profile_nav_a"><i
                                    class="fa-solid fa-dumbbell"></i><span>Coaches</span></a></li>
                        <li class="profile_nav_li"><a id="reoprt" href="#reoprt" class="profile_nav_a"><i
                                    class="fa-solid fa-book-bookmark"></i><span>Report</span></a></li>
                    </ul>
                </div>

                <a style="cursor: pointer;" onclick="signOut()" class="profile_log_out"><i
                        class="fa-solid fa-arrow-right-from-bracket"></i><span>Log
                        out</span></a>
            </div>

            <div class="admin_right_panel">
                <div class="row">
                    <div class="admin_right_panel_header">
                        <div class="admin_right_panel_header_logo"><img src="/images/logoclient.png" alt=""></div>
                        <div class="admin_right_panel_header_feedback"><span>Feedback</span><i
                                class="fa-solid fa-bell"></i></div>
                    </div>
                    <div class="admin_right_panel_content">
                        <!-- arpc - admin right panel content -->
                        <div class="arpc_3 not_active">
                            <h1 class="arpc_3_subtitle">Become a Member!</h1>
                            <h1 class="arpc_3_title">Registered</h1>
                            <div class="arpc_3_block">
                                <div class="arpc_3_block_row">
                                    <h1 class="h1_row">ID: <span>1712418463734</span></h1>
                                    <h1 class="h1_row">Name: <span>Zerox</span></h1>
                                    <h1 class="h1_row">Email: <span>333zeroxyt@gmail.com</span></h1>
                                    <h1 class="h1_row">Password: <span>123456</span></h1>
                                    <h1 class="h1_row">Plan: <span>1 Month</span></h1>
                                    <h1 class="h1_row">Price: <span>100 000</span></h1>
                                    <h1 class="h1_row">Date Of Join: <span>2024.04.11</span></h1>
                                </div>
                                <button class="arpc_3_block_btn">OK</button>
                            </div>
                        </div>

                        <div class="arpc_4 ">
                            <form action="/add-plan" method="post" class="arpc_4_form">
                                <div class="arpc_4_row">
                                    <div class="arpc_4_form_left">
                                        <h1 class="arpc_4_h1_title">Plan Name</h1>
                                        <input type="text" required name="name" class="arpc_4_input">
                                        <h1 class="arpc_4_h1_title  arpc_4_h1_price">Price</h1>
                                        <input type="number" required name="validity" class="arpc_4_input">
                                    </div>
                                    <div class="arpc_4_form_right">
                                        <div class="arpc_4_form_right_validity">
                                            <h1 class="arpc_4_h1_title">Validity</h1>
                                            <input type="number" required name="price" class="arpc_4_input">
                                        </div>
                                        <div class="arpc_4_form_right_buttons">
                                            <button class="arpc_4_form_right_button_save">Save</button>

                                        </div>
                                    </div>
                                </div>
                            </form>
                            <div class="arpc_4_block">
                                <div class="search_system">
                                    <div class="arpc_4_block_row">
                                        <input type="text" placeholder="Search">
                                    </div>
                                </div>
                                <div class="arpc_4_block_row">
                                    <div class="arpc_4_block_column_name column">
                                        <span class="arpc_4_block_column_title">Plan Name</span>
                                        <span class="arpc_4_block_column_text">1 month</span>
                                        <span class="arpc_4_block_column_text">3 month</span>
                                        <span class="arpc_4_block_column_text">6 month</span>
                                    </div>
                                    <div class="arpc_4_block_column_validity column">
                                        <span class="arpc_4_block_column_title">Validity</span>
                                        <span class="arpc_4_block_column_text">30</span>
                                        <span class="arpc_4_block_column_text">90</span>
                                        <span class="arpc_4_block_column_text">180</span>
                                    </div>
                                    <div class="arpc_4_block_column_price column">
                                        <span class="arpc_4_block_column_title">Price</span>
                                        <span class="arpc_4_block_column_text">800</span>
                                        <span class="arpc_4_block_column_text">2200</span>
                                        <span class="arpc_4_block_column_text">3800</span>
                                    </div>
                                    <div class="arpc_4_block_column_edit column_btn">
                                        <span class="arpc_4_block_column_title">Edit</span>
                                        <span class="arpc_4_block_column_text"><button
                                                class="arpc_4_block_column_btn">Edit</button></span>
                                        <span class="arpc_4_block_column_text"><button
                                                class="arpc_4_block_column_btn">Edit</button></span>
                                        <span class="arpc_4_block_column_text"><button
                                                class="arpc_4_block_column_btn">Edit</button></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

<script>
    if (JSON.parse(localStorage.getItem("info")).id != "5be7e2d39a6e4") {
        window.location = "/"
    }

    window.addEventListener('hashchange', function () {
        var page = window.location.hash.substring(1);
        loadContent(page);
    });


    function loadContent(page) {
        var content = pages[page];
        document.getElementsByClassName('admin_right_panel_content')[0].innerHTML = content;

        // Создаем новый элемент скрипта
        var script = document.createElement("script");
        script.src = `/admin/${page}.js`;
        // Удаляем старый скрипт, если он существует
        var oldScript = document.getElementById("myScript");
        if (oldScript) {
            oldScript.parentNode.removeChild(oldScript);
        }
        // Добавляем новый скрипт в конец тела документа
        document.body.appendChild(script);

        document.getElementsByClassName("activePanelBtn")[0].classList.remove("activePanelBtn");
        document.getElementById(page).classList.add("activePanelBtn");
    }

    var pages = {
        dashboard: ` <div class="arpc_1">
                                <div class="arpc_1_left">
                                    <div class="arpc_1_row_1">
                                        <div class="arpc_1_row_1_block_1 block">
                                            <div class="arpc_1_row_1_block_1_left_side">
                                                <div class="arpc_1_row_1_block_1_left_side_title">Welcome
                                                    <span>Admin</span>
                                                </div>
                                                <div class="arpc_1_row_1_block_1_left_side_text">Добро пожаловать в
                                                    административную панель! Здесь вы можете управлять контентом,
                                                    настройками и многим другим. Приятной работы!</div>
                                            </div>
                                            <div class="arpc_1_row_1_block_1_right_side">
                                                <div class="arpc_1_row_1_block_1_right_side_circle"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="arpc_1_row_2">
                                        <div class="arpc_1_row_2_block_2 block">
                                            <div class="block_2_row">
                                                <div class="arpc_1_row_2_block_2_header">
                                                    <div class="arpc_1_row_2_block_2_header_title">Coaches</div>
                                                    <!-- <div class="arpc_1_row_2_block_2_header_dot"><i
                                                            class="fa-solid fa-ellipsis-vertical"></i></div> -->
                                                </div>
                                                <div class="arpc_1_row_2_block_2_list">
                                                    <div class="arpc_1_row_2_block_2_list_row">
                                                        <div class="arpc_1_row_2_block_2_list_row_circle"></div>
                                                        <div class="arpc_1_row_2_block_2_list_row_name">Juan Dela Cruz</div>
                                                    </div>
                                                    <div class="arpc_1_row_2_block_2_list_row">
                                                        <div class="arpc_1_row_2_block_2_list_row_circle"></div>
                                                        <div class="arpc_1_row_2_block_2_list_row_name">Juan Dela Cruz</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="arpc_1_row_3_block_3 block">
                                            <div class="block_2_row">
                                                <div class="arpc_1_row_2_block_2_header">
                                                    <div class="arpc_1_row_2_block_2_header_title">Активных</div>
                                                    <!-- <div class="arpc_1_row_2_block_2_header_dot"><i
                                                            class="fa-solid fa-ellipsis-vertical"></i></div> -->
                                                </div>
                                                <div class="arpc_1_row_2_block_2_percentage">0%</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="arpc_1_right">
                                    <div class="arpc_1_row_3">
                                        <div class="arpc_1_row_3_title">Active Members</div>
                                        <div class="arpc_1_row_1_block_4 block">
                                            <div class="block_4_row">
                                                <div class="arpc_1_row_1_block_4_header">
                                                    <div class="arpc_1_row_1_block_4_search_block">
                                                        <input type="text" id="searchInput" placeholder="Search">
                                                    </div>
                                                    <div class="arpc_1_row_1_block_4_sort_filter">
                                                        <span>Sort by</span>
                                                        <i class="fa-solid fa-arrow-up-wide-short"></i>
                                                    </div>
                                                </div>

                                                <div class="arpc_1_row_3_block_4_list">
                                                    <div class="arpc_1_row_3_block_4_list_name">
                                                        <div class="arpc_1_row_3_block_4_list_name_row">
                                                            <div class="arpc_1_row_3_block_4_list_name_row_name">&nbsp;
                                                            </div>
                                                        </div>

                                                    </div>
                                                    <div class="arpc_1_row_3_block_4_list_date">
                                                        <div class="arpc_1_row_3_block_4_list_date_table">
                                                            <div class="table_header">
                                                                <div class="arpc_1_row_3_block_4_list_date_table_paid">Date
                                                                    paid</div>
                                                                <div class="arpc_1_row_3_block_4_list_date_table_expiry">
                                                                    Date Expiry</div>
                                                                <div class="arpc_1_row_3_block_4_list_date_table_status">
                                                                    Status</div>
                                                            </div>
                                                            <div class="table_dates">

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
    `,
        profile: ` <div class="arpc_2">
        <div class="arpc_2_left">
            <div class="arpc_2_left_card card">
                <div class="card_row">
                    <div class="card_logo">
                        <div class="card_img"><img src="/images/profile_person.png" alt=""></div>
                    </div>
                    <div class="card_info">

                    </div>
                </div>
            </div>
        </div>
        <div class="arpc_2_right">
            <div class="arpc_2_right_user_info card">
                <div class="card_row">
                    <div action="/edit-admin-data" method="post" class="arpc_2_right_user_info_form">
                        <h1 class="arpc_2_right_user_info_username h1_text">Username</h1>
                        <input type="text" id="changeName" name="name">
                        <h1 class="arpc_2_right_user_info_contact h1_text">Phone</h1>
                        <input type="number" id="changePhone" name="phone">
                        <h1 class="arpc_2_right_user_info_email h1_text">Email Address</h1>
                        <input type="email" id="changeEmail" name="email">

                        <div class="form_buttons">
                            <button onclick="changeForm()" class="form_button_save btn">Save</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="arpc_2_right_password card">
                <div class="card_row">
                    <div action="/reset-admin-password" class="arpc_2_right_password_form">
                        <div class="arpc_2_right_password_form_title">
                            <h1 class="arpc_2_right_password_form h1_text">Current Password</h1>
                            <p class="wrong">Current password is wrong</p>
                        </div>
                        <input type="text" id="CurrentPass">
                        <h1 class="arpc_2_right_password_form h1_text">New Password</h1>
                        <input type="text" id="NewPass" name="password">
                        <h1 class="arpc_2_right_password_form h1_text">Re-type Password</h1>
                        <input type="text" id="repeatNewPass">

                        <div class="form_buttons">
                            <button onclick="resetPass()" class="form_button_save btn">Change</button>
                            <button onclick="resetPassInputs()" class="form_button_cancel btn">Clear</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>`,
        settings: `<h2>Settings</h2>
    <p>Содержимое страницы Settings...</p>`
    };
    window.addEventListener('load', function () {
        var page = window.location.hash.substring(1);
        if (page === "") {
            loadContent("dashboard");

        } else {
            loadContent(page);
        }
    });


    function signOut() {
        localStorage.clear()
        window.location = "/"
    }

    // const res = fetch("/getPlans", {
    // method: 'POST',
    // headers: {
    // 'Content-Type': 'application/json'
    // },
    // body: JSON.stringify({ status: 200 })
    // })
    // .then(res => res.json())
    // .then(dat => {
    // document.getElementById("planSelect").innerHTML += dat.obj.map(i => `
    // <option value="${i.name}">${i.name}</option>
    // `)
    // })

    function planFunc(value) {
        const response = fetch("/price", {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ plan: value })
        })
            .then(response => response.json())
            .then(data => {
                document.getElementById("priceInput").value = data.text.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ' ');
                document.getElementById('registerForm').addEventListener('submit', function (event) {
                    event.preventDefault();
                    document.getElementById('hiddenPriceInput').style.display = 'none';
                    document.getElementById('hiddenValidityInput').style.display = 'none';
                    document.getElementById('hiddenPriceInput').value = document.getElementById('priceInput').value.replace(/\s/g, '');
                    document.getElementById('hiddenValidityInput').value = data.validity
                    document.getElementById('hiddenPriceInput').style.display = 'block';
                    document.getElementById('hiddenValidityInput').style.display = 'block';
                    this.submit()
                });
            })
    }
</script>

</html>